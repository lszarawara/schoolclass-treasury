<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <title>Dodaj użytkownika</title>
  <link rel="stylesheet" href="/webjars/bootstrap/5.2.0/css/bootstrap.min.css">
  <script src="/webjars/bootstrap/5.2.0/js/bootstrap.min.js"></script>
</head>

<body>
<header th:insert="fragments/header/header.html"></header>
<div class="container">
    <h2>Dodawanie nowego skarbnika <span sec:authorize="hasRole('ROLE_ADMIN')"> /użytkownika</span></h2>

  <form th:method="post" th:action="@{/mvc/user/add}" th:object="${user}">

      <div class="mb-3">
        <label for="firstName" class="form-label">Imię:</label>
        <input type="text" th:field="*{firstName}" class="form-control" id="firstName">
      </div>
      <div class="mb-3">
        <label for="lastName" class="form-label">Nazwisko:</label>
        <input type="text" th:field="*{lastName}" class="form-control" id="lastName">
      </div>
      <div class="mb-3">
        <label for="email" class="form-label">Email:</label>
        <input type="email" th:field="*{email}" class="form-control" id="email">
      </div>
      <div class="mb-3">
        <label for="login" class="form-label">Login:</label>
        <input type="text" th:field="*{login}" class="form-control" id="login">
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">Hasło:</label>
        <input type="password" th:field="*{password}" class="form-control" id="password">
      </div>
      <input sec:authorize="!hasRole('ROLE_ADMIN')" type="hidden" th:field="*{role}" class="form-control" id="role1">
      <input sec:authorize="!hasRole('ROLE_ADMIN')" type="hidden" th:field="*{isEnabled}" class="form-control" id="isEnabled">
      <div sec:authorize="hasRole('ROLE_ADMIN')" class="form-group">
        <label for="role2" class="form-label">Rola:</label>
        <select class="form-control selectpicker" th:field="*{role}" id="role2">
          <option value="">Wybierz z listy</option>
          <option th:each="role : ${T(pl.sda.treasury.entity.User.Role).values()}"
                  th:value="${role}"
                  th:text="${role.label}">role
          </option>
        </select>
      </div>


    <p></p>

    <button type="submit" class="btn btn-primary">Dodaj użytkownika</button>
  </form>
</div>
</body>
</html>